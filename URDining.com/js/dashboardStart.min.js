function dashboardLoad(){Parse.initialize("aEGq7Uw6GgqbGZo8JWxPQAEYdxSgexrv9zLLXVJu","ahEsV3cewyapjRJ7Wudks47q10eh9fGnerBb3pBy");resetTables();$("#analytics").click(function(){event.preventDefault()});$("#addFood").click(function(){event.preventDefault();question(3,"Which dining hall?","Douglas","Danforth","The Commons",function(){question(3,"Which time of food is this?","Breakfast","Lunch","Dinner",function(){bootbox.prompt("What stationID? - "+dougStations,function(e){if(e===null){}else{bootbox.prompt("What is that name of the dish?",function(t){if(t===null){}else{bootbox.prompt("How many calories are there per serving?",function(n){if(n===null){}else{var r=Parse.Object.extend("DG_MENU");sendFoodToDB(r,1,e,t,n)}})}})}})},function(){bootbox.prompt("What stationID? - "+dougStations,function(e){if(e===null){}else{bootbox.prompt("What is that name of the dish?",function(t){if(t===null){}else{bootbox.prompt("How many calories are there per serving?",function(n){if(n===null){}else{var r=Parse.Object.extend("DG_MENU");sendFoodToDB(r,2,e,t,n)}})}})}})},function(){bootbox.prompt("What stationID? - "+dougStations,function(e){if(e===null){}else{bootbox.prompt("What is that name of the dish?",function(t){if(t===null){}else{bootbox.prompt("How many calories are there per serving?",function(n){if(n===null){}else{var r=Parse.Object.extend("DG_MENU");sendFoodToDB(r,3,e,t,n)}})}})}})})},function(){question(2,"Which time of food is this?","Lunch","Dinner",null,function(){bootbox.prompt("What stationID? - "+danfStations,function(e){if(e===null){}else{bootbox.prompt("What is that name of the dish?",function(t){if(t===null){}else{bootbox.prompt("How many calories are there per serving?",function(n){if(n===null){}else{var r=Parse.Object.extend("DF_Menu");sendFoodToDB(r,2,e,t,n)}})}})}})},function(){bootbox.prompt("What stationID? - "+danfStations,function(e){if(e===null){}else{bootbox.prompt("What is that name of the dish?",function(t){if(t===null){}else{bootbox.prompt("How many calories are there per serving?",function(n){if(n===null){}else{var r=Parse.Object.extend("DF_Menu");sendFoodToDB(r,3,e,t,n)}})}})}})},null)},function(){bootbox.prompt("What stationID? - Pizza, or Panda?",function(e){if(e===null){}else{bootbox.prompt("What is that name of the dish?",function(t){if(t===null){}else{bootbox.prompt("How many calories are there per serving?",function(n){if(n===null){}else{var r=Parse.Object.extend("TC_Menu");sendFoodToDB(r,3,e,t,n)}})}})}})})});$("#removeFood").click(function(){event.preventDefault();bootbox.dialog({message:"Which hall would you like to remove a food from?",title:"Remove Food",buttons:{success:{label:"Douglas",className:"btn-success",callback:function(){bootbox.prompt("What stationID? - "+dougStations,function(e){if(e===null){}else{var t=document.getElementById("dougTable");var n="";for(var r=1,i;i=t.rows[r];r++){if(e==i.cells[1].innerText){n+=i.cells[2].innerText+", "}}console.log(n);bootbox.prompt("Which food would you like to delete? - "+n,function(t){if(t==null){}else{console.log("deleting "+t);var n=Parse.Object.extend("DG_MENU");var r=new Parse.Query(n);r.equalTo("stationID",e);r.equalTo("foodItem",t);r.find({success:function(e){if(e.length==1){e[0].destroy({success:function(e){bootbox.alert("Food removed successfully",function(){})},error:function(e,t){}})}else{bootbox.alert("Failed. Either food doesn't exist or multiple references of this food exist.",function(){})}console.log(e)},error:function(e,t){console.log(e+t)}})}})}})}},danger:{label:"Danforth",className:"btn-danger",callback:function(){bootbox.prompt("What stationID? - "+danfStations,function(e){if(e===null){}else{var t=document.getElementById("danfTable");var n="";for(var r=1,i;i=t.rows[r];r++){if(e==i.cells[1].innerText){n+=i.cells[2].innerText+", "}}console.log(n);bootbox.prompt("Which food would you like to delete? - "+n,function(t){if(t==null){}else{console.log("deleting "+t);var n=Parse.Object.extend("DF_Menu");var r=new Parse.Query(n);r.equalTo("stationID",e);r.equalTo("foodItem",t);r.find({success:function(e){if(e.length==1){e[0].destroy({success:function(e){bootbox.alert("Food removed successfully",function(){})},error:function(e,t){}})}else{bootbox.alert("Failed. Either food doesn't exist or multiple references of this food exist.",function(){})}console.log(e)},error:function(e,t){console.log(e+t)}})}})}})}},main:{label:"The Commons",className:"btn-primary",callback:function(){bootbox.prompt("What stationID? - ",function(e){if(e===null){}else{var t=document.getElementById("commTable");var n="";for(var r=1,i;i=t.rows[r];r++){if(e==i.cells[1].innerText){n+=i.cells[2].innerText+", "}}console.log(n);bootbox.prompt("Which food would you like to delete? - "+n,function(t){if(t==null){}else{console.log("deleting "+t);var n=Parse.Object.extend("TC_Menu");var r=new Parse.Query(n);r.equalTo("stationID",e);r.equalTo("foodItem",t);r.find({success:function(e){if(e.length==1){e[0].destroy({success:function(e){bootbox.alert("Food removed successfully",function(){})},error:function(e,t){}})}else{bootbox.alert("Failed. Either food doesn't exist or multiple references of this food exist.",function(){})}console.log(e)},error:function(e,t){console.log(e+t)}})}})}})}}}})});$("#clearHall").click(function(){event.preventDefault();bootbox.dialog({message:"Which hall would you like to clear all current foods from?",title:"Clear Hall",buttons:{success:{label:"Douglas",className:"btn-success",callback:function(){bootbox.confirm("Are you sure?",function(e){if(e){console.log("DELETE")}})}},danger:{label:"Danforth",className:"btn-danger",callback:function(){bootbox.confirm("Are you sure?",function(e){if(e){console.log("DELETE")}})}},main:{label:"The Commons",className:"btn-primary",callback:function(){bootbox.confirm("Are you sure?",function(e){if(e){console.log("DELETE")}})}}}})});$("#refreshFoods").click(function(){event.preventDefault();downloadAndSetTable("DG_MENU","dougTable");downloadAndSetTable("DF_Menu","danfTable");downloadAndSetTable("TC_Menu","commTable");bootbox.alert("Food Refreshed",function(){})})}function sendFoodToDB(e,t,n,r,i){var s=new e;s.set("mealTime",t);s.set("stationID",n);s.set("foodItem",r);s.set("cal",i);s.save(null,{success:function(e){bootbox.alert("Food added successfully",function(){resetTables()})}})}function resetTables(){downloadAndSetTable("DG_MENU","dougTable");downloadAndSetTable("DF_Menu","danfTable");downloadAndSetTable("TC_Menu","commTable")}function downloadAndSetTable(e,t){var n=document.getElementById(t).rows.length;for(var r=1;r<n;r++){document.getElementById(t).deleteRow(1)}var i=Parse.Object.extend(e);var s=new Parse.Query(i);s.descending("mealTime");s.find({success:function(e){for(var n=0;n<e.length;n++){var r=e[n];var i=document.getElementById(t);var s=i.insertRow(1);var o=s.insertCell(0);var u=s.insertCell(1);var a=s.insertCell(2);var f=s.insertCell(3);o.innerHTML=r.get("mealTime");u.innerHTML=r.get("stationID");a.innerHTML=r.get("foodItem");f.innerHTML=r.get("cal")}},error:function(e){alert("Error: "+e.code+" "+e.message)}})}function question(e,t,n,r,i,s,o,u){if(e==2){bootbox.dialog({message:t,title:"New Food",buttons:{success:{label:n,className:"btn-success",callback:function(){s()}},danger:{label:r,className:"btn-danger",callback:function(){o()}}}})}else if(e==3){bootbox.dialog({message:t,title:"New Food",buttons:{success:{label:n,className:"btn-success",callback:function(){s()}},danger:{label:r,className:"btn-danger",callback:function(){o()}},main:{label:i,className:"btn-primary",callback:function(){u()}}}})}}var dougStations="D, PM, P, HZ, G, or B";var danfStations="VEGAN, SOUP, SAUTE, PM, MG, G, DELI, D, BO, or BHZ"